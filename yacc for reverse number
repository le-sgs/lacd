%{
#include <stdio.h>
#include "lex.yy.c"
%}

%token NUMBER

%%
start: is_reversed '\n' { printf("Result: %s\n", $1 == 1 ? "Reversed" : "Not Reversed"); }
is_reversed: NUMBER       { $$ = check_reverse($1); }
%%

int check_reverse(int num) {
    int original = num;
    int reversed = 0;

    while (num > 0) {
        reversed = reversed * 10 + num % 10;
        num /= 10;
    }

    return (original == reversed) ? 1 : 0;
}

int yyerror(char *s) {
    printf("Error: %s\n", s);
    return 0;
}
